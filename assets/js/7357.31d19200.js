"use strict";(self.webpackChunkregal_ui_docs=self.webpackChunkregal_ui_docs||[]).push([[7357],{63933:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S: () => (/* binding */ populateCommonDb)\n/* harmony export */ });\n/* harmony import */ var _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10009);\n\n\n// src/diagrams/common/populateCommonDb.ts\nfunction populateCommonDb(ast, db) {\n  if (ast.accDescr) {\n    db.setAccDescription?.(ast.accDescr);\n  }\n  if (ast.accTitle) {\n    db.setAccTitle?.(ast.accTitle);\n  }\n  if (ast.title) {\n    db.setDiagramTitle?.(ast.title);\n  }\n}\n(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_0__/* .__name */ .K2)(populateCommonDb, "populateCommonDb");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjM5MzMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUU4Qjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQU07O0FBSUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWdhbC11aS1kb2NzLy4vbm9kZV9tb2R1bGVzL21lcm1haWQvZGlzdC9jaHVua3MvbWVybWFpZC5jb3JlL2NodW5rLVRNVUJFV1BELm1qcz81MDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIF9fbmFtZVxufSBmcm9tIFwiLi9jaHVuay02REJGRkhJUC5tanNcIjtcblxuLy8gc3JjL2RpYWdyYW1zL2NvbW1vbi9wb3B1bGF0ZUNvbW1vbkRiLnRzXG5mdW5jdGlvbiBwb3B1bGF0ZUNvbW1vbkRiKGFzdCwgZGIpIHtcbiAgaWYgKGFzdC5hY2NEZXNjcikge1xuICAgIGRiLnNldEFjY0Rlc2NyaXB0aW9uPy4oYXN0LmFjY0Rlc2NyKTtcbiAgfVxuICBpZiAoYXN0LmFjY1RpdGxlKSB7XG4gICAgZGIuc2V0QWNjVGl0bGU/Lihhc3QuYWNjVGl0bGUpO1xuICB9XG4gIGlmIChhc3QudGl0bGUpIHtcbiAgICBkYi5zZXREaWFncmFtVGl0bGU/Lihhc3QudGl0bGUpO1xuICB9XG59XG5fX25hbWUocG9wdWxhdGVDb21tb25EYiwgXCJwb3B1bGF0ZUNvbW1vbkRiXCIpO1xuXG5leHBvcnQge1xuICBwb3B1bGF0ZUNvbW1vbkRiXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///63933\n')},57357:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_TMUBEWPD_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63933);\n/* harmony import */ var _chunk_7DKRZKHE_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8159);\n/* harmony import */ var _chunk_EJ4ZWXGL_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(77286);\n/* harmony import */ var _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10009);\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(78731);\n\n\n\n\n\n// src/diagrams/packet/db.ts\nvar defaultPacketData = {\n  packet: []\n};\nvar data = structuredClone(defaultPacketData);\nvar DEFAULT_PACKET_CONFIG = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .defaultConfig_default */ .UI.packet;\nvar getConfig2 = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)(() => {\n  const config = (0,_chunk_7DKRZKHE_mjs__WEBPACK_IMPORTED_MODULE_1__/* .cleanAndMerge */ .$t)({\n    ...DEFAULT_PACKET_CONFIG,\n    ...(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .getConfig */ .zj)().packet\n  });\n  if (config.showBits) {\n    config.paddingY += 10;\n  }\n  return config;\n}, "getConfig");\nvar getPacket = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)(() => data.packet, "getPacket");\nvar pushWord = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)((word) => {\n  if (word.length > 0) {\n    data.packet.push(word);\n  }\n}, "pushWord");\nvar clear2 = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)(() => {\n  (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .clear */ .IU)();\n  data = structuredClone(defaultPacketData);\n}, "clear");\nvar db = {\n  pushWord,\n  getPacket,\n  getConfig: getConfig2,\n  clear: clear2,\n  setAccTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .setAccTitle */ .SV,\n  getAccTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .getAccTitle */ .iN,\n  setDiagramTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .setDiagramTitle */ .ke,\n  getDiagramTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .getDiagramTitle */ .ab,\n  getAccDescription: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .getAccDescription */ .m7,\n  setAccDescription: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .setAccDescription */ .EI\n};\n\n// src/diagrams/packet/parser.ts\n\nvar maxPacketSize = 1e4;\nvar populate = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)((ast) => {\n  (0,_chunk_TMUBEWPD_mjs__WEBPACK_IMPORTED_MODULE_0__/* .populateCommonDb */ .S)(ast, db);\n  let lastByte = -1;\n  let word = [];\n  let row = 1;\n  const { bitsPerRow } = db.getConfig();\n  for (let { start, end, label } of ast.blocks) {\n    if (end && end < start) {\n      throw new Error(`Packet block ${start} - ${end} is invalid. End must be greater than start.`);\n    }\n    if (start !== lastByte + 1) {\n      throw new Error(\n        `Packet block ${start} - ${end ?? start} is not contiguous. It should start from ${lastByte + 1}.`\n      );\n    }\n    lastByte = end ?? start;\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .log */ .Rm.debug(`Packet block ${start} - ${lastByte} with label ${label}`);\n    while (word.length <= bitsPerRow + 1 && db.getPacket().length < maxPacketSize) {\n      const [block, nextBlock] = getNextFittingBlock({ start, end, label }, row, bitsPerRow);\n      word.push(block);\n      if (block.end + 1 === row * bitsPerRow) {\n        db.pushWord(word);\n        word = [];\n        row++;\n      }\n      if (!nextBlock) {\n        break;\n      }\n      ({ start, end, label } = nextBlock);\n    }\n  }\n  db.pushWord(word);\n}, "populate");\nvar getNextFittingBlock = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)((block, row, bitsPerRow) => {\n  if (block.end === void 0) {\n    block.end = block.start;\n  }\n  if (block.start > block.end) {\n    throw new Error(`Block start ${block.start} is greater than block end ${block.end}.`);\n  }\n  if (block.end + 1 <= row * bitsPerRow) {\n    return [block, void 0];\n  }\n  return [\n    {\n      start: block.start,\n      end: row * bitsPerRow - 1,\n      label: block.label\n    },\n    {\n      start: row * bitsPerRow,\n      end: block.end,\n      label: block.label\n    }\n  ];\n}, "getNextFittingBlock");\nvar parser = {\n  parse: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__/* .parse */ .qg)("packet", input);\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .log */ .Rm.debug(ast);\n    populate(ast);\n  }, "parse")\n};\n\n// src/diagrams/packet/renderer.ts\nvar draw = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)((_text, id, _version, diagram2) => {\n  const db2 = diagram2.db;\n  const config = db2.getConfig();\n  const { rowHeight, paddingY, bitWidth, bitsPerRow } = config;\n  const words = db2.getPacket();\n  const title = db2.getDiagramTitle();\n  const totalRowHeight = rowHeight + paddingY;\n  const svgHeight = totalRowHeight * (words.length + 1) - (title ? 0 : rowHeight);\n  const svgWidth = bitWidth * bitsPerRow + 2;\n  const svg = (0,_chunk_EJ4ZWXGL_mjs__WEBPACK_IMPORTED_MODULE_2__/* .selectSvgElement */ .D)(id);\n  svg.attr("viewbox", `0 0 ${svgWidth} ${svgHeight}`);\n  (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .configureSvgSize */ .a$)(svg, svgHeight, svgWidth, config.useMaxWidth);\n  for (const [word, packet] of words.entries()) {\n    drawWord(svg, packet, word, config);\n  }\n  svg.append("text").text(title).attr("x", svgWidth / 2).attr("y", svgHeight - totalRowHeight / 2).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr("class", "packetTitle");\n}, "draw");\nvar drawWord = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)((svg, word, rowNumber, { rowHeight, paddingX, paddingY, bitWidth, bitsPerRow, showBits }) => {\n  const group = svg.append("g");\n  const wordY = rowNumber * (rowHeight + paddingY) + paddingY;\n  for (const block of word) {\n    const blockX = block.start % bitsPerRow * bitWidth + 1;\n    const width = (block.end - block.start + 1) * bitWidth - paddingX;\n    group.append("rect").attr("x", blockX).attr("y", wordY).attr("width", width).attr("height", rowHeight).attr("class", "packetBlock");\n    group.append("text").attr("x", blockX + width / 2).attr("y", wordY + rowHeight / 2).attr("class", "packetLabel").attr("dominant-baseline", "middle").attr("text-anchor", "middle").text(block.label);\n    if (!showBits) {\n      continue;\n    }\n    const isSingleBlock = block.end === block.start;\n    const bitNumberY = wordY - 2;\n    group.append("text").attr("x", blockX + (isSingleBlock ? width / 2 : 0)).attr("y", bitNumberY).attr("class", "packetByte start").attr("dominant-baseline", "auto").attr("text-anchor", isSingleBlock ? "middle" : "start").text(block.start);\n    if (!isSingleBlock) {\n      group.append("text").attr("x", blockX + width).attr("y", bitNumberY).attr("class", "packetByte end").attr("dominant-baseline", "auto").attr("text-anchor", "end").text(block.end);\n    }\n  }\n}, "drawWord");\nvar renderer = { draw };\n\n// src/diagrams/packet/styles.ts\nvar defaultPacketStyleOptions = {\n  byteFontSize: "10px",\n  startByteColor: "black",\n  endByteColor: "black",\n  labelColor: "black",\n  labelFontSize: "12px",\n  titleColor: "black",\n  titleFontSize: "14px",\n  blockStrokeColor: "black",\n  blockStrokeWidth: "1",\n  blockFillColor: "#efefef"\n};\nvar styles = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__/* .__name */ .K2)(({ packet } = {}) => {\n  const options = (0,_chunk_7DKRZKHE_mjs__WEBPACK_IMPORTED_MODULE_1__/* .cleanAndMerge */ .$t)(defaultPacketStyleOptions, packet);\n  return `\n\t.packetByte {\n\t\tfont-size: ${options.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${options.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${options.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${options.labelColor};\n\t\tfont-size: ${options.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${options.titleColor};\n\t\tfont-size: ${options.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${options.blockStrokeColor};\n\t\tstroke-width: ${options.blockStrokeWidth};\n\t\tfill: ${options.blockFillColor};\n\t}\n\t`;\n}, "styles");\n\n// src/diagrams/packet/diagram.ts\nvar diagram = {\n  parser,\n  db,\n  renderer,\n  styles\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTczNTcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUdBO0FBY0E7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0ZBQXFCO0FBQ2pELGlDQUFpQyxxRUFBTTtBQUN2QyxpQkFBaUIsNEVBQWE7QUFDOUI7QUFDQSxPQUFPLHdFQUFTO0FBQ2hCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQ0FBZ0MscUVBQU07QUFDdEMsK0JBQStCLHFFQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw2QkFBNkIscUVBQU07QUFDbkMsRUFBRSxvRUFBSztBQUNQO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixpQkFBaUI7QUFDakIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjs7QUFFQTtBQUMyQztBQUMzQztBQUNBLCtCQUErQixxRUFBTTtBQUNyQyxFQUFFLDhFQUFnQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxVQUFVLGFBQWE7QUFDdkIsYUFBYSxvQkFBb0I7QUFDakM7QUFDQSxzQ0FBc0MsT0FBTyxJQUFJLEtBQUs7QUFDdEQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sSUFBSSxjQUFjLDBDQUEwQyxhQUFhO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBLElBQUksOERBQUcsdUJBQXVCLE9BQU8sSUFBSSxVQUFVLGFBQWEsTUFBTTtBQUN0RTtBQUNBLHVEQUF1RCxtQkFBbUI7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvQkFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDBDQUEwQyxxRUFBTTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxhQUFhLDRCQUE0QixVQUFVO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSx5QkFBeUIscUVBQU07QUFDL0Isc0JBQXNCLG1FQUFLO0FBQzNCLElBQUksOERBQUc7QUFDUDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLDJCQUEyQixxRUFBTTtBQUNqQztBQUNBO0FBQ0EsVUFBVSw0Q0FBNEM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOEVBQWdCO0FBQzlCLDZCQUE2QixVQUFVLEVBQUUsVUFBVTtBQUNuRCxFQUFFLCtFQUFnQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwrQkFBK0IscUVBQU0sMEJBQTBCLCtEQUErRDtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscUVBQU0sSUFBSSxTQUFTLElBQUk7QUFDcEQsa0JBQWtCLDRFQUFhO0FBQy9CO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZUFBZTtBQUNmO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZUFBZTtBQUNmO0FBQ0E7QUFDQSxZQUFZO0FBQ1osa0JBQWtCO0FBQ2xCLFVBQVU7QUFDVjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVnYWwtdWktZG9jcy8uL25vZGVfbW9kdWxlcy9tZXJtYWlkL2Rpc3QvY2h1bmtzL21lcm1haWQuY29yZS9kaWFncmFtLVFXNEZQMkpOLm1qcz9mNTljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHBvcHVsYXRlQ29tbW9uRGJcbn0gZnJvbSBcIi4vY2h1bmstVE1VQkVXUEQubWpzXCI7XG5pbXBvcnQge1xuICBjbGVhbkFuZE1lcmdlXG59IGZyb20gXCIuL2NodW5rLTdES1JaS0hFLm1qc1wiO1xuaW1wb3J0IHtcbiAgc2VsZWN0U3ZnRWxlbWVudFxufSBmcm9tIFwiLi9jaHVuay1FSjRaV1hHTC5tanNcIjtcbmltcG9ydCB7XG4gIF9fbmFtZSxcbiAgY2xlYXIsXG4gIGNvbmZpZ3VyZVN2Z1NpemUsXG4gIGRlZmF1bHRDb25maWdfZGVmYXVsdCxcbiAgZ2V0QWNjRGVzY3JpcHRpb24sXG4gIGdldEFjY1RpdGxlLFxuICBnZXRDb25maWcsXG4gIGdldERpYWdyYW1UaXRsZSxcbiAgbG9nLFxuICBzZXRBY2NEZXNjcmlwdGlvbixcbiAgc2V0QWNjVGl0bGUsXG4gIHNldERpYWdyYW1UaXRsZVxufSBmcm9tIFwiLi9jaHVuay02REJGRkhJUC5tanNcIjtcblxuLy8gc3JjL2RpYWdyYW1zL3BhY2tldC9kYi50c1xudmFyIGRlZmF1bHRQYWNrZXREYXRhID0ge1xuICBwYWNrZXQ6IFtdXG59O1xudmFyIGRhdGEgPSBzdHJ1Y3R1cmVkQ2xvbmUoZGVmYXVsdFBhY2tldERhdGEpO1xudmFyIERFRkFVTFRfUEFDS0VUX0NPTkZJRyA9IGRlZmF1bHRDb25maWdfZGVmYXVsdC5wYWNrZXQ7XG52YXIgZ2V0Q29uZmlnMiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4ge1xuICBjb25zdCBjb25maWcgPSBjbGVhbkFuZE1lcmdlKHtcbiAgICAuLi5ERUZBVUxUX1BBQ0tFVF9DT05GSUcsXG4gICAgLi4uZ2V0Q29uZmlnKCkucGFja2V0XG4gIH0pO1xuICBpZiAoY29uZmlnLnNob3dCaXRzKSB7XG4gICAgY29uZmlnLnBhZGRpbmdZICs9IDEwO1xuICB9XG4gIHJldHVybiBjb25maWc7XG59LCBcImdldENvbmZpZ1wiKTtcbnZhciBnZXRQYWNrZXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCgpID0+IGRhdGEucGFja2V0LCBcImdldFBhY2tldFwiKTtcbnZhciBwdXNoV29yZCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHdvcmQpID0+IHtcbiAgaWYgKHdvcmQubGVuZ3RoID4gMCkge1xuICAgIGRhdGEucGFja2V0LnB1c2god29yZCk7XG4gIH1cbn0sIFwicHVzaFdvcmRcIik7XG52YXIgY2xlYXIyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoKSA9PiB7XG4gIGNsZWFyKCk7XG4gIGRhdGEgPSBzdHJ1Y3R1cmVkQ2xvbmUoZGVmYXVsdFBhY2tldERhdGEpO1xufSwgXCJjbGVhclwiKTtcbnZhciBkYiA9IHtcbiAgcHVzaFdvcmQsXG4gIGdldFBhY2tldCxcbiAgZ2V0Q29uZmlnOiBnZXRDb25maWcyLFxuICBjbGVhcjogY2xlYXIyLFxuICBzZXRBY2NUaXRsZSxcbiAgZ2V0QWNjVGl0bGUsXG4gIHNldERpYWdyYW1UaXRsZSxcbiAgZ2V0RGlhZ3JhbVRpdGxlLFxuICBnZXRBY2NEZXNjcmlwdGlvbixcbiAgc2V0QWNjRGVzY3JpcHRpb25cbn07XG5cbi8vIHNyYy9kaWFncmFtcy9wYWNrZXQvcGFyc2VyLnRzXG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJAbWVybWFpZC1qcy9wYXJzZXJcIjtcbnZhciBtYXhQYWNrZXRTaXplID0gMWU0O1xudmFyIHBvcHVsYXRlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoYXN0KSA9PiB7XG4gIHBvcHVsYXRlQ29tbW9uRGIoYXN0LCBkYik7XG4gIGxldCBsYXN0Qnl0ZSA9IC0xO1xuICBsZXQgd29yZCA9IFtdO1xuICBsZXQgcm93ID0gMTtcbiAgY29uc3QgeyBiaXRzUGVyUm93IH0gPSBkYi5nZXRDb25maWcoKTtcbiAgZm9yIChsZXQgeyBzdGFydCwgZW5kLCBsYWJlbCB9IG9mIGFzdC5ibG9ja3MpIHtcbiAgICBpZiAoZW5kICYmIGVuZCA8IHN0YXJ0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhY2tldCBibG9jayAke3N0YXJ0fSAtICR7ZW5kfSBpcyBpbnZhbGlkLiBFbmQgbXVzdCBiZSBncmVhdGVyIHRoYW4gc3RhcnQuYCk7XG4gICAgfVxuICAgIGlmIChzdGFydCAhPT0gbGFzdEJ5dGUgKyAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBQYWNrZXQgYmxvY2sgJHtzdGFydH0gLSAke2VuZCA/PyBzdGFydH0gaXMgbm90IGNvbnRpZ3VvdXMuIEl0IHNob3VsZCBzdGFydCBmcm9tICR7bGFzdEJ5dGUgKyAxfS5gXG4gICAgICApO1xuICAgIH1cbiAgICBsYXN0Qnl0ZSA9IGVuZCA/PyBzdGFydDtcbiAgICBsb2cuZGVidWcoYFBhY2tldCBibG9jayAke3N0YXJ0fSAtICR7bGFzdEJ5dGV9IHdpdGggbGFiZWwgJHtsYWJlbH1gKTtcbiAgICB3aGlsZSAod29yZC5sZW5ndGggPD0gYml0c1BlclJvdyArIDEgJiYgZGIuZ2V0UGFja2V0KCkubGVuZ3RoIDwgbWF4UGFja2V0U2l6ZSkge1xuICAgICAgY29uc3QgW2Jsb2NrLCBuZXh0QmxvY2tdID0gZ2V0TmV4dEZpdHRpbmdCbG9jayh7IHN0YXJ0LCBlbmQsIGxhYmVsIH0sIHJvdywgYml0c1BlclJvdyk7XG4gICAgICB3b3JkLnB1c2goYmxvY2spO1xuICAgICAgaWYgKGJsb2NrLmVuZCArIDEgPT09IHJvdyAqIGJpdHNQZXJSb3cpIHtcbiAgICAgICAgZGIucHVzaFdvcmQod29yZCk7XG4gICAgICAgIHdvcmQgPSBbXTtcbiAgICAgICAgcm93Kys7XG4gICAgICB9XG4gICAgICBpZiAoIW5leHRCbG9jaykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgICh7IHN0YXJ0LCBlbmQsIGxhYmVsIH0gPSBuZXh0QmxvY2spO1xuICAgIH1cbiAgfVxuICBkYi5wdXNoV29yZCh3b3JkKTtcbn0sIFwicG9wdWxhdGVcIik7XG52YXIgZ2V0TmV4dEZpdHRpbmdCbG9jayA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGJsb2NrLCByb3csIGJpdHNQZXJSb3cpID0+IHtcbiAgaWYgKGJsb2NrLmVuZCA9PT0gdm9pZCAwKSB7XG4gICAgYmxvY2suZW5kID0gYmxvY2suc3RhcnQ7XG4gIH1cbiAgaWYgKGJsb2NrLnN0YXJ0ID4gYmxvY2suZW5kKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBCbG9jayBzdGFydCAke2Jsb2NrLnN0YXJ0fSBpcyBncmVhdGVyIHRoYW4gYmxvY2sgZW5kICR7YmxvY2suZW5kfS5gKTtcbiAgfVxuICBpZiAoYmxvY2suZW5kICsgMSA8PSByb3cgKiBiaXRzUGVyUm93KSB7XG4gICAgcmV0dXJuIFtibG9jaywgdm9pZCAwXTtcbiAgfVxuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHN0YXJ0OiBibG9jay5zdGFydCxcbiAgICAgIGVuZDogcm93ICogYml0c1BlclJvdyAtIDEsXG4gICAgICBsYWJlbDogYmxvY2subGFiZWxcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0YXJ0OiByb3cgKiBiaXRzUGVyUm93LFxuICAgICAgZW5kOiBibG9jay5lbmQsXG4gICAgICBsYWJlbDogYmxvY2subGFiZWxcbiAgICB9XG4gIF07XG59LCBcImdldE5leHRGaXR0aW5nQmxvY2tcIik7XG52YXIgcGFyc2VyID0ge1xuICBwYXJzZTogLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBhc3QgPSBhd2FpdCBwYXJzZShcInBhY2tldFwiLCBpbnB1dCk7XG4gICAgbG9nLmRlYnVnKGFzdCk7XG4gICAgcG9wdWxhdGUoYXN0KTtcbiAgfSwgXCJwYXJzZVwiKVxufTtcblxuLy8gc3JjL2RpYWdyYW1zL3BhY2tldC9yZW5kZXJlci50c1xudmFyIGRyYXcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChfdGV4dCwgaWQsIF92ZXJzaW9uLCBkaWFncmFtMikgPT4ge1xuICBjb25zdCBkYjIgPSBkaWFncmFtMi5kYjtcbiAgY29uc3QgY29uZmlnID0gZGIyLmdldENvbmZpZygpO1xuICBjb25zdCB7IHJvd0hlaWdodCwgcGFkZGluZ1ksIGJpdFdpZHRoLCBiaXRzUGVyUm93IH0gPSBjb25maWc7XG4gIGNvbnN0IHdvcmRzID0gZGIyLmdldFBhY2tldCgpO1xuICBjb25zdCB0aXRsZSA9IGRiMi5nZXREaWFncmFtVGl0bGUoKTtcbiAgY29uc3QgdG90YWxSb3dIZWlnaHQgPSByb3dIZWlnaHQgKyBwYWRkaW5nWTtcbiAgY29uc3Qgc3ZnSGVpZ2h0ID0gdG90YWxSb3dIZWlnaHQgKiAod29yZHMubGVuZ3RoICsgMSkgLSAodGl0bGUgPyAwIDogcm93SGVpZ2h0KTtcbiAgY29uc3Qgc3ZnV2lkdGggPSBiaXRXaWR0aCAqIGJpdHNQZXJSb3cgKyAyO1xuICBjb25zdCBzdmcgPSBzZWxlY3RTdmdFbGVtZW50KGlkKTtcbiAgc3ZnLmF0dHIoXCJ2aWV3Ym94XCIsIGAwIDAgJHtzdmdXaWR0aH0gJHtzdmdIZWlnaHR9YCk7XG4gIGNvbmZpZ3VyZVN2Z1NpemUoc3ZnLCBzdmdIZWlnaHQsIHN2Z1dpZHRoLCBjb25maWcudXNlTWF4V2lkdGgpO1xuICBmb3IgKGNvbnN0IFt3b3JkLCBwYWNrZXRdIG9mIHdvcmRzLmVudHJpZXMoKSkge1xuICAgIGRyYXdXb3JkKHN2ZywgcGFja2V0LCB3b3JkLCBjb25maWcpO1xuICB9XG4gIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpLnRleHQodGl0bGUpLmF0dHIoXCJ4XCIsIHN2Z1dpZHRoIC8gMikuYXR0cihcInlcIiwgc3ZnSGVpZ2h0IC0gdG90YWxSb3dIZWlnaHQgLyAyKS5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJtaWRkbGVcIikuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpLmF0dHIoXCJjbGFzc1wiLCBcInBhY2tldFRpdGxlXCIpO1xufSwgXCJkcmF3XCIpO1xudmFyIGRyYXdXb3JkID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3ZnLCB3b3JkLCByb3dOdW1iZXIsIHsgcm93SGVpZ2h0LCBwYWRkaW5nWCwgcGFkZGluZ1ksIGJpdFdpZHRoLCBiaXRzUGVyUm93LCBzaG93Qml0cyB9KSA9PiB7XG4gIGNvbnN0IGdyb3VwID0gc3ZnLmFwcGVuZChcImdcIik7XG4gIGNvbnN0IHdvcmRZID0gcm93TnVtYmVyICogKHJvd0hlaWdodCArIHBhZGRpbmdZKSArIHBhZGRpbmdZO1xuICBmb3IgKGNvbnN0IGJsb2NrIG9mIHdvcmQpIHtcbiAgICBjb25zdCBibG9ja1ggPSBibG9jay5zdGFydCAlIGJpdHNQZXJSb3cgKiBiaXRXaWR0aCArIDE7XG4gICAgY29uc3Qgd2lkdGggPSAoYmxvY2suZW5kIC0gYmxvY2suc3RhcnQgKyAxKSAqIGJpdFdpZHRoIC0gcGFkZGluZ1g7XG4gICAgZ3JvdXAuYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwieFwiLCBibG9ja1gpLmF0dHIoXCJ5XCIsIHdvcmRZKS5hdHRyKFwid2lkdGhcIiwgd2lkdGgpLmF0dHIoXCJoZWlnaHRcIiwgcm93SGVpZ2h0KS5hdHRyKFwiY2xhc3NcIiwgXCJwYWNrZXRCbG9ja1wiKTtcbiAgICBncm91cC5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJ4XCIsIGJsb2NrWCArIHdpZHRoIC8gMikuYXR0cihcInlcIiwgd29yZFkgKyByb3dIZWlnaHQgLyAyKS5hdHRyKFwiY2xhc3NcIiwgXCJwYWNrZXRMYWJlbFwiKS5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJtaWRkbGVcIikuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpLnRleHQoYmxvY2subGFiZWwpO1xuICAgIGlmICghc2hvd0JpdHMpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBpc1NpbmdsZUJsb2NrID0gYmxvY2suZW5kID09PSBibG9jay5zdGFydDtcbiAgICBjb25zdCBiaXROdW1iZXJZID0gd29yZFkgLSAyO1xuICAgIGdyb3VwLmFwcGVuZChcInRleHRcIikuYXR0cihcInhcIiwgYmxvY2tYICsgKGlzU2luZ2xlQmxvY2sgPyB3aWR0aCAvIDIgOiAwKSkuYXR0cihcInlcIiwgYml0TnVtYmVyWSkuYXR0cihcImNsYXNzXCIsIFwicGFja2V0Qnl0ZSBzdGFydFwiKS5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJhdXRvXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBpc1NpbmdsZUJsb2NrID8gXCJtaWRkbGVcIiA6IFwic3RhcnRcIikudGV4dChibG9jay5zdGFydCk7XG4gICAgaWYgKCFpc1NpbmdsZUJsb2NrKSB7XG4gICAgICBncm91cC5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJ4XCIsIGJsb2NrWCArIHdpZHRoKS5hdHRyKFwieVwiLCBiaXROdW1iZXJZKS5hdHRyKFwiY2xhc3NcIiwgXCJwYWNrZXRCeXRlIGVuZFwiKS5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJhdXRvXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKS50ZXh0KGJsb2NrLmVuZCk7XG4gICAgfVxuICB9XG59LCBcImRyYXdXb3JkXCIpO1xudmFyIHJlbmRlcmVyID0geyBkcmF3IH07XG5cbi8vIHNyYy9kaWFncmFtcy9wYWNrZXQvc3R5bGVzLnRzXG52YXIgZGVmYXVsdFBhY2tldFN0eWxlT3B0aW9ucyA9IHtcbiAgYnl0ZUZvbnRTaXplOiBcIjEwcHhcIixcbiAgc3RhcnRCeXRlQ29sb3I6IFwiYmxhY2tcIixcbiAgZW5kQnl0ZUNvbG9yOiBcImJsYWNrXCIsXG4gIGxhYmVsQ29sb3I6IFwiYmxhY2tcIixcbiAgbGFiZWxGb250U2l6ZTogXCIxMnB4XCIsXG4gIHRpdGxlQ29sb3I6IFwiYmxhY2tcIixcbiAgdGl0bGVGb250U2l6ZTogXCIxNHB4XCIsXG4gIGJsb2NrU3Ryb2tlQ29sb3I6IFwiYmxhY2tcIixcbiAgYmxvY2tTdHJva2VXaWR0aDogXCIxXCIsXG4gIGJsb2NrRmlsbENvbG9yOiBcIiNlZmVmZWZcIlxufTtcbnZhciBzdHlsZXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCh7IHBhY2tldCB9ID0ge30pID0+IHtcbiAgY29uc3Qgb3B0aW9ucyA9IGNsZWFuQW5kTWVyZ2UoZGVmYXVsdFBhY2tldFN0eWxlT3B0aW9ucywgcGFja2V0KTtcbiAgcmV0dXJuIGBcblx0LnBhY2tldEJ5dGUge1xuXHRcdGZvbnQtc2l6ZTogJHtvcHRpb25zLmJ5dGVGb250U2l6ZX07XG5cdH1cblx0LnBhY2tldEJ5dGUuc3RhcnQge1xuXHRcdGZpbGw6ICR7b3B0aW9ucy5zdGFydEJ5dGVDb2xvcn07XG5cdH1cblx0LnBhY2tldEJ5dGUuZW5kIHtcblx0XHRmaWxsOiAke29wdGlvbnMuZW5kQnl0ZUNvbG9yfTtcblx0fVxuXHQucGFja2V0TGFiZWwge1xuXHRcdGZpbGw6ICR7b3B0aW9ucy5sYWJlbENvbG9yfTtcblx0XHRmb250LXNpemU6ICR7b3B0aW9ucy5sYWJlbEZvbnRTaXplfTtcblx0fVxuXHQucGFja2V0VGl0bGUge1xuXHRcdGZpbGw6ICR7b3B0aW9ucy50aXRsZUNvbG9yfTtcblx0XHRmb250LXNpemU6ICR7b3B0aW9ucy50aXRsZUZvbnRTaXplfTtcblx0fVxuXHQucGFja2V0QmxvY2sge1xuXHRcdHN0cm9rZTogJHtvcHRpb25zLmJsb2NrU3Ryb2tlQ29sb3J9O1xuXHRcdHN0cm9rZS13aWR0aDogJHtvcHRpb25zLmJsb2NrU3Ryb2tlV2lkdGh9O1xuXHRcdGZpbGw6ICR7b3B0aW9ucy5ibG9ja0ZpbGxDb2xvcn07XG5cdH1cblx0YDtcbn0sIFwic3R5bGVzXCIpO1xuXG4vLyBzcmMvZGlhZ3JhbXMvcGFja2V0L2RpYWdyYW0udHNcbnZhciBkaWFncmFtID0ge1xuICBwYXJzZXIsXG4gIGRiLFxuICByZW5kZXJlcixcbiAgc3R5bGVzXG59O1xuZXhwb3J0IHtcbiAgZGlhZ3JhbVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57357\n')}}]);